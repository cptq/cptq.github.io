<!DOCTYPE html>
<html lang="en-us">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<meta name="theme-color" content="#FFF2FC">
	<meta name="msapplication-TileColor" content="#FFF2FC">
<meta itemprop="name" content="Endless Eigenart in 3 lines of code">
<meta itemprop="description" content="Science is what we understand well enough to explain to a computer. Art is everything else we do. — Donald Knuth
 If we import numpy and matplotlib,
import numpy as np import matplotlib.pyplot as plt then we can generate really nice art in just 3 lines of code.
As = np.random.randn(6,6,3) vals = [val for s in np.linspace(0,1,500) for t in np.linspace(0,1-s,500) for val in np.linalg.eigvals(s*As[:,:,0] &#43; t*As[:,:,1] &#43; (1-s-t)*As[:,:,2])] plt.">
<meta itemprop="datePublished" content="2020-01-03T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-01-03T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="1083">



<meta itemprop="keywords" content="" /><meta property="og:title" content="Endless Eigenart in 3 lines of code" />
<meta property="og:description" content="Science is what we understand well enough to explain to a computer. Art is everything else we do. — Donald Knuth
 If we import numpy and matplotlib,
import numpy as np import matplotlib.pyplot as plt then we can generate really nice art in just 3 lines of code.
As = np.random.randn(6,6,3) vals = [val for s in np.linspace(0,1,500) for t in np.linspace(0,1-s,500) for val in np.linalg.eigvals(s*As[:,:,0] &#43; t*As[:,:,1] &#43; (1-s-t)*As[:,:,2])] plt." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cptq.github.io/posts/eigart/" />
<meta property="article:published_time" content="2020-01-03T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-01-03T00:00:00+00:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Endless Eigenart in 3 lines of code"/>
<meta name="twitter:description" content="Science is what we understand well enough to explain to a computer. Art is everything else we do. — Donald Knuth
 If we import numpy and matplotlib,
import numpy as np import matplotlib.pyplot as plt then we can generate really nice art in just 3 lines of code.
As = np.random.randn(6,6,3) vals = [val for s in np.linspace(0,1,500) for t in np.linspace(0,1-s,500) for val in np.linalg.eigvals(s*As[:,:,0] &#43; t*As[:,:,1] &#43; (1-s-t)*As[:,:,2])] plt."/>

	<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">
	<link rel="mask-icon" href="/safari-pinned-tab.svg" color="">
	<link rel="shortcut icon" href="/favicon.ico">

	<title>Endless Eigenart in 3 lines of code</title>
	<link rel="stylesheet" href="https://cptq.github.io/css/style.min.e8d116933974f7401b348d4a88437995af2fccea460f8e9747049ddd898e2e12.css" integrity="sha256-6NEWkzl090AbNI1KiEN5la8vzOpGD46XRwSd3YmOLhI=" crossorigin="anonymous">
	
</head>

<body id="page">
	
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
	<header id="site-header" class="animated slideInUp faster">
		<div class="hdr-wrapper section-inner">
			<div class="hdr-left">
				<div class="site-branding">
					<a href="https://cptq.github.io">Derek Lim</a>
				</div>
				<nav class="site-nav hide-in-mobile">
					
				<a href="https://cptq.github.io/about/">About</a>
				<a href="https://cptq.github.io/papers/">Papers</a>
				<a href="https://cptq.github.io/other/">Other</a>

				</nav>
			</div>
			<div class="hdr-right hdr-icons">
				<span class="hdr-social hide-in-mobile"><a href="/contact/" target="_blank" rel="noopener me" title="Email"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></a><a href="https://github.com/cptq" target="_blank" rel="noopener me" title="Github"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a><a href="https://www.linkedin.com/in/lim-derek/" target="_blank" rel="noopener me" title="Linkedin"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg></a><a href="https://twitter.com/dereklim_lzh" target="_blank" rel="noopener me" title="Twitter"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a><a href="https://scholar.google.com/citations?user=y9YTBIsAAAAJ&amp;hl=en" target="_blank" rel="noopener me" title="Scholar"><img src="/scholar.png" width="24" height="24"> </img></a></span><button id="menu-btn" class="hdr-btn" title="Menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button>
			</div>
		</div>
	</header>
	<div id="mobile-menu" class="animated fast">
		<ul>
			<li><a href="https://cptq.github.io/about/">About</a></li>
			<li><a href="https://cptq.github.io/papers/">Papers</a></li>
			<li><a href="https://cptq.github.io/other/">Other</a></li>
		</ul>
	</div>


	<main class="site-main section-inner animated fadeIn faster">
		<article class="thin">
			<header class="post-header">
				<div class="post-meta"><span>Jan 3, 2020</span></div>
				<h1>Endless Eigenart in 3 lines of code</h1>
			</header>
			<div class="content">
				<blockquote>
<p>Science is what we understand well enough to explain to a computer. Art is everything else we do. — Donald Knuth</p>
</blockquote>
<p>If we import numpy and matplotlib,</p>
<pre><code>import numpy as np
import matplotlib.pyplot as plt</code></pre>
<p>then we can generate really nice art in just 3 lines of code.</p>
<pre><code>As = np.random.randn(6,6,3)
vals = [val for s in np.linspace(0,1,500) for t in np.linspace(0,1-s,500) for val in np.linalg.eigvals(s*As[:,:,0] + t*As[:,:,1] + (1-s-t)*As[:,:,2])]
plt.plot(np.real(vals), np.imag(vals), &#39;mo&#39;, alpha=.5, markeredgewidth=.1, markeredgecolor=&#39;k&#39;, markersize=1.5)</code></pre>
<p><img src="chs1.png" width=90%> </img><br />
<img src="chs2.png" width=90%> </img><br />
<img src="chs3.png" width=90%> </img><br />
<img src="chs4.png" width=90%> </img></p>
<p>Of course, this code was condensed for the novelty of having as few lines of code as possible. It is quite beautiful that essentially infinitely many (if not for the finiteness of the floating point system among other physical limitations) pretty images can be completely specified in so few lines of code. Compare this to the complexity of a Post-Impressionist oil painting, which would require data at the atomic level of every brushstroke to unambiguously store. To be fair, a better comparison would probably take into account the size of the library functions called along with the python interpreter, and it can be argued that a painting does not require atomic level information to understand or experience. Even so, the basic point still stands.</p>
<figure>
<img src="Cezanne.jpg" width=90% alt="A Cézanne, which cannot be specified in 3 lines of code."> </img>
<figcaption>
A Cézanne, which cannot be specified in 3 lines of code.
</figcaption>
</figure>
<p>Coming in at a more modest 9 lines we have code that is more flexible and easy to read:</p>
<pre><code>def eigenart(n, prec=500):
    A1 = np.random.randn(n,n)
    A2 = np.random.randn(n,n)
    A3 = np.random.randn(n,n)
    vals = []
    for s in np.linspace(0,1, prec):
        for t in np.linspace(0,1-s, prec):
            vals.extend(np.linalg.eigvals(s*A1 + t*A2 + (1-s-t)*A3))
    plt.plot(np.real(vals), np.imag(vals), &#39;mo&#39;, alpha=.5, markeredgewidth=.1, markeredgecolor=&#39;k&#39;, markersize=1.5)</code></pre>
<p>The generated art is simply the set of all complex numbers that occur as an eigenvalue of some matrix in a convex set of matrices. Let <span class="math inline">\(M_n(\mathrm{F})\)</span> denote the set of <span class="math inline">\(n \times n\)</span> matrices with entries in <span class="math inline">\(\mathbb{F}\)</span>, <span class="math inline">\(\sigma(A)\)</span> denote the set of eigenvalues of the matrix <span class="math inline">\(A\)</span>, and <span class="math inline">\(\mathrm{Co}(S)\)</span> denote the convex hull of <span class="math inline">\(S\)</span>. For a set of matrices <span class="math inline">\(S \subseteq M_n(\mathbb{C})\)</span>, we define the <em>hull spectra</em> of <span class="math inline">\(S\)</span> to be <span class="math display">\[\mathrm{HS}(S) = \{\lambda \in \sigma(A) : A \in \mathrm{Co}(S) \}\]</span> Thus, our <code>eigenart</code> function plots <span class="math inline">\(\mathrm{HS}(\{A_1, A_2, A_3\})\)</span> for three random matrices <span class="math inline">\(A_1, A_2,\)</span> and <span class="math inline">\(A_3\)</span> in <span class="math inline">\(M_n(\mathbb{R})\)</span> with entries drawn from a standard normal distribution. We can now understand certain properties of the generated art.</p>
<p>In the <code>eigenart</code> function, <span class="math inline">\(n\)</span> is the size of the matrices. Larger <span class="math inline">\(n\)</span> gives more complex hull spectra as each matrix in <span class="math inline">\(\mathrm{Co}(S)\)</span> has more eigenvalues, and they interact in more complex ways. <code>prec</code> controls the number of convex combinations of matrices whose eigenvalues are computed and plotted. It can be increased to get rid of some of the areas of low density, or decreased to allow for less expensive computation. The plotting parameter <code>alpha</code> allows transparent markers so that overlap can be seen. Also, the small black marker edges allow for a shading effect, as areas that are denser with eigenvalues appear darker.</p>
<p>The hull spectra shown above are symmetric about the real axis—the generator matrices were chosen to be real, and the non-real eigenvalues of real matrices in <span class="math inline">\(M_n(\mathbb{R})\)</span> come in conjugate pairs. If we instead take our random generators to have non-real entries as well, then the hull spectra does not have this symmetry. Also, real matrices tend to have some real eigenvalues with high probability (for instance, any <span class="math inline">\(n \times n\)</span> real matrix with <span class="math inline">\(n\)</span> an odd number has at least one real eigenvalue), so most hull spectra of real matrices contain a line segment or multiple line segments on the real line.</p>
<figure>
<img src="chs5.png" width=90% alt="Hull spectra of 3 random complex matrices in $M_4(\mathbb{C})$"> </img>
<figcaption>
Hull spectra of 3 random complex matrices in <span class="math inline">\(M_4(\mathrm{C})\)</span>
</figcaption>
</figure>
<p>Let <span class="math inline">\(A_{s, t} = s A_1 + t A_2 + (1-s-t) A_3\)</span> be a matrix in <span class="math inline">\(\mathrm{Co}(\{A_1, A_2, A_3\})\)</span>. Continuity and differentiability of the eigenvalues of a family of matrices is a technical subject, so what follows is rather hand-wavy. The entire set of eigenvalues of a matrix depends continuously on its entries. Some of the holes in the hull spectra are actual holes where there are no eigenvalues. However, some of the areas where there are holes or that are sparse with eigenvalues are actually mathematically completely solid; the choice of a finite number of matrices in the convex hull to evaluate at causes them to appear empty. These spots tend to occur near an eigenvalue of higher multiplicity, which is where non-differentiability of eigenvalues can occur. This explains sparse areas of eigenvalues near the real line, as when a non-real eigenvalue approaches the real line, its conjugate is another eigenvalue that approaches the real line. Elsewhere, the shading shows “folds” and other properties that seem to give the hull spectra depth. This can be explained by the fact that the hull spectra is a projection onto the first two coordinates of the higher dimensional surface consisting of points of the form <span class="math inline">\(\big(\Re\; \lambda(A_{s,t}), \Im\; \lambda(A_{s,t}), s, t\big)\)</span> in <span class="math inline">\(\mathbb{R}^4\)</span> (recall that the eigenvalues depend continuously on <span class="math inline">\(s\)</span> and <span class="math inline">\(t\)</span>).</p>
<p>The eigenvalues of a matrix are the roots of its characteristic polynomial, and any polynomial <span class="math inline">\(p\)</span> has a corresponding matrix <span class="math inline">\(C\)</span> (the companion matrix) such that the eigenvalues of <span class="math inline">\(C\)</span> are precisely the roots of <span class="math inline">\(p\)</span>. From another viewpoint, the hull spectra <span class="math inline">\(\mathrm{HS}(S)\)</span> can also be viewed as the roots of the characteristic polynomials of matrices in <span class="math inline">\(\mathrm{Co}(S)\)</span> Others have created or discovered art from the roots of polynomials before: this <a href="http://math.ucr.edu/home/baez/roots/">post</a> by John Baez and the work of Bahman Kalantari in <a href="https://www.cs.rutgers.edu/~kalantar/polynomiography/exhibitions.html">polynomiography</a> provide striking examples.</p>
<p>While hull spectra do provide amazing images, my interest in them arose from important problems in mathematics. One open problem that has been unsolved for decades is that of determining the set of complex numbers which occur as the eigenvalue of some <span class="math inline">\(n \times n\)</span> doubly stochastic matrix. Equivalently, this set is the hull spectra of the <span class="math inline">\(n \times n\)</span> permutation matrices. This article [<a href="https://arxiv.org/abs/1703.10992">1</a>] provides a good survey of this problem and similar problems; I have also published two works in this field [<a href="https://arxiv.org/abs/1909.10597">2</a>] [<a href="https://arxiv.org/abs/1908.03647">3</a>].</p>
<p>[1] Charles R. Johnson, Carlos Marijuán, Pietro Paparella, and Miriam Pisonero. “The NIEP.” Operator Theory, Operator Algebras, and Matrix Theory, pp. 199-220 (2018).</p>
<p>[2] Eric Jankowski, Charles R. Johnson, and Derek Lim. “Spectra of convex hulls of matrix groups.” Linear Algebra and its Applications (2020).</p>
<p>[3] Amit Harlev, Charles R. Johnson, and Derek Lim. “The Doubly Stochastic Single Eigenvalue Problem: A Computational Approach.” Experimental Mathematics (2020).</p>
<figure>
<img src="cDS6.png" width=90% alt="Eigenvalues of convex combinations of pairs of $6 \times 6$ permutation matrices. Only those in the upper half-plane are shown."> </img>
<figcaption>
Eigenvalues of convex combinations of pairs of <span class="math inline">\(6 \times 6\)</span> permutation matrices. Only those in the upper half-plane are shown.
</figcaption>
</figure>

			</div>
			<hr class="post-end">
			<footer class="post-info">
				<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>1083 Words</p>
				<p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>2020-01-02 19:00 -0500</p>
			</footer>
		</article>
		<div class="post-nav thin">
			<a class="next-post" href="https://cptq.github.io/posts/flags/">
				<span class="post-nav-label"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>&nbsp;Newer</span><br><span>Flags Ranked by Matrix Rank</span>
			</a>
		</div>
		<div id="comments" class="thin">
</div>
	</main>

	<footer id="site-footer" class="section-inner thin animated fadeIn faster">
		<p>&copy; 2020 <a href="https://cptq.github.io">Derek Lim</a></p>
		<p>
			Made with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> &#183; Theme <a href="https://github.com/Track3/hermit" target="_blank" rel="noopener">Hermit</a>
			
		</p>
	</footer>



	<script src="https://cptq.github.io/js/bundle.min.4a9a0ac3d2217822c7865b4161e6c2a71de1d70492264337755427898dd718f6.js" integrity="sha256-SpoKw9IheCLHhltBYebCpx3h1wSSJkM3dVQniY3XGPY=" crossorigin="anonymous"></script>
	

</body>

</html>
